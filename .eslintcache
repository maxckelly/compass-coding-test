[{"/Users/mkelly/compass-coding-test/src/routes/Routes.js":"1","/Users/mkelly/compass-coding-test/src/pages/SurveysQuestionsPage.js":"2","/Users/mkelly/compass-coding-test/src/api/surveys.js":"3"},{"size":517,"mtime":1607569991251,"results":"4","hashOfConfig":"5"},{"size":2002,"mtime":1607657419212,"results":"6","hashOfConfig":"5"},{"size":434,"mtime":1607657427189,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"15fsdlz",{"filePath":"10","messages":"11","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mkelly/compass-coding-test/src/routes/Routes.js",[],"/Users/mkelly/compass-coding-test/src/pages/SurveysQuestionsPage.js",["15"],"import React, { useState, useEffect } from 'react';\nimport {useParams} from \"react-router-dom\";\n// API\nimport { getSurvey } from './../api/surveys';\n\n// Components\nimport QuestionCardComponent from './../components/QuestionCardComponent';\nimport ButtonComponent from './../components/ButtonComponent';\n\n// Styles\nimport styles from './../css/pages/SurveyQuestionsPage.module.css';\n\nconst SurveysQuestionsPage = ({history, location}) => {\n  // Get state from route state\n  const { id } = useParams();\n  const [name, setName] = useState(location.state ? location.state.survey.name : null);\n  const [questions, setQuestions] = useState(location.state ? location.state.survey.questions : null);\n\n  // If data not in state then make api call\n  const onLoad = async () => {\n    const response = await getSurvey(id);\n\n    if (response.status === 200) {\n      setQuestions(response.data.questions);\n      return setName(response.data.name);\n    } else {\n      alert('An error has occurred');\n      return history.push('/');\n    }\n  };\n\n  useEffect(() => {\n    if (!location.state) { \n      onLoad();\n    };\n  }, [])\n\n  // Map and render questions\n  const displayQuestions = () => {\n    const question = questions.map((q) => {\n      return <QuestionCardComponent key={q.order} title={q.title} subTitle={q.subTitle} options={q.options} />\n    });\n\n    return question;\n  };\n\n  // This handles the on survey submit\n  const onSubmit = () => {\n    alert('Your survey results have been submitted');\n    return history.push('/');\n  };\n\n  return (\n    <div className={styles.questionsContainer}>\n      <h2 className={styles.title}>{name}</h2>\n      <div className={styles.questionContainer}>\n        {questions && displayQuestions()}\n      </div>\n\n      <div className={styles.buttonContainer}>\n        <ButtonComponent title=\"Back\" handleOnClick={() => history.push(\"/\")}/>\n        <ButtonComponent title=\"Submit\" handleOnClick={() => onSubmit()}/>\n      </div>\n    </div>\n  )\n};\n\nexport default SurveysQuestionsPage;","/Users/mkelly/compass-coding-test/src/api/surveys.js",[],{"ruleId":"16","severity":1,"message":"17","line":36,"column":6,"nodeType":"18","endLine":36,"endColumn":8,"suggestions":"19"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'location.state' and 'onLoad'. Either include them or remove the dependency array.","ArrayExpression",["20"],{"desc":"21","fix":"22"},"Update the dependencies array to be: [location.state, onLoad]",{"range":"23","text":"24"},[1104,1106],"[location.state, onLoad]"]